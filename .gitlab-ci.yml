before_script:
  - add-apt-repository ppa:deadsnakes/ppa
  - apt update -qy
  - apt install -y python3.11 python3-pip
  - apt install -y python3-tk
  - python3 -m pip install --upgrade pip

tests:
  stage: test
  script:
    - cd tests
    - python3 -m pip install -r test_requirements.txt
    - pytest --cov=../pytools
    - coverage xml
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: tests/coverage.xml
